<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mikrobesin Referans Değerleri Karşılaştırması</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        .chart-container {
            position: relative;
            height: 500px;
            width: 100%;
        }
        /* Custom checkbox style */
        .custom-checkbox:checked {
            background-color: currentColor;
            background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8">
        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900">Mikrobesin Referans Değerleri</h1>
            <p class="mt-2 text-md text-gray-600">EFSA, FNB ve TFC verilerinin 0-18 yaş aralığı için karşılaştırmalı analizi</p>
        </header>

        <main>
            <div class="max-w-xl mx-auto mb-8">
                <label for="nutrient-select" class="block text-sm font-medium text-gray-700 mb-2">Analiz Edilecek Mikrobesini Seçin:</label>
                <select id="nutrient-select" class="bg-white border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 shadow-sm transition duration-150 ease-in-out">
                    <!-- Options will be populated by JavaScript -->
                </select>
            </div>

            <div id="charts-wrapper" class="space-y-12">
                <!-- Charts will be dynamically inserted here -->
            </div>

            <div id="controls-container" class="mt-8 p-6 bg-white rounded-xl shadow-md max-w-2xl mx-auto">
                 <h3 class="text-lg font-semibold text-center mb-4 text-gray-800">Grafik Kontrolleri</h3>
                 <div id="checkbox-controls" class="flex justify-center items-center gap-6 sm:gap-8 flex-wrap">
                    <!-- Checkboxes will be dynamically inserted here -->
                 </div>
            </div>
        </main>
    </div>

    <script>
        // --- DATA PROCESSING ---
        // This is where all the data from EFSA, FNB, and TFC files has been manually extracted,
        // cleaned, and structured into a unified JSON format for the application.
        const micronutrientData = [
            // Vitamin A
            { nutrient: "Vitamin A", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 0.58, age_end: 3, value: 250, gender: "Both" },
            { nutrient: "Vitamin A", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 4, age_end: 6, value: 250, gender: "Both" },
            { nutrient: "Vitamin A", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 7, age_end: 10, value: 400, gender: "Both" },
            { nutrient: "Vitamin A", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 11, age_end: 14, value: 600, gender: "Both" },
            { nutrient: "Vitamin A", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 15, age_end: 17, value: 750, gender: "Male" },
            { nutrient: "Vitamin A", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 15, age_end: 17, value: 650, gender: "Female" },
            { nutrient: "Vitamin A", source: "EFSA", type: "UL", unit: "μg/day", age_start: 1, age_end: 3, value: 800, gender: "Both" },
            { nutrient: "Vitamin A", source: "EFSA", type: "UL", unit: "μg/day", age_start: 4, age_end: 6, value: 800, gender: "Both" },
            { nutrient: "Vitamin A", source: "EFSA", type: "UL", unit: "μg/day", age_start: 7, age_end: 10, value: 1100, gender: "Both" },
            { nutrient: "Vitamin A", source: "EFSA", type: "UL", unit: "μg/day", age_start: 11, age_end: 14, value: 1700, gender: "Both" },
            { nutrient: "Vitamin A", source: "EFSA", type: "UL", unit: "μg/day", age_start: 15, age_end: 17, value: 2300, gender: "Both" },
            { nutrient: "Vitamin A", source: "FNB", type: "DRI", unit: "μg/day", age_start: 1, age_end: 3, value: 300, gender: "Both" },
            { nutrient: "Vitamin A", source: "FNB", type: "DRI", unit: "μg/day", age_start: 4, age_end: 8, value: 400, gender: "Both" },
            { nutrient: "Vitamin A", source: "FNB", type: "DRI", unit: "μg/day", age_start: 9, age_end: 13, value: 600, gender: "Both" },
            { nutrient: "Vitamin A", source: "FNB", type: "DRI", unit: "μg/day", age_start: 14, age_end: 18, value: 900, gender: "Male" },
            { nutrient: "Vitamin A", source: "FNB", type: "DRI", unit: "μg/day", age_start: 14, age_end: 18, value: 700, gender: "Female" },
            { nutrient: "Vitamin A", source: "FNB", type: "UL", unit: "μg/day", age_start: 1, age_end: 3, value: 600, gender: "Both" },
            { nutrient: "Vitamin A", source: "FNB", type: "UL", unit: "μg/day", age_start: 4, age_end: 8, value: 900, gender: "Both" },
            { nutrient: "Vitamin A", source: "FNB", type: "UL", unit: "μg/day", age_start: 9, age_end: 13, value: 1700, gender: "Both" },
            { nutrient: "Vitamin A", source: "FNB", type: "UL", unit: "μg/day", age_start: 14, age_end: 18, value: 2800, gender: "Both" },
            { nutrient: "Vitamin A", source: "TFC", type: "DRV", unit: "μg/day", age_start: 4, age_end: 18, value: 800, gender: "Both" },
            { nutrient: "Vitamin A", source: "TFC", type: "DML", unit: "μg/day", age_start: 4, age_end: 10, value: 1200, gender: "Both" },
            { nutrient: "Vitamin A", source: "TFC", type: "DML", unit: "μg/day", age_start: 11, age_end: 18, value: 3000, gender: "Both" },
            // Biotin
            { nutrient: "Biotin", source: "EFSA", type: "AI", unit: "μg/day", age_start: 0.58, age_end: 3, value: 20, gender: "Both" },
            { nutrient: "Biotin", source: "EFSA", type: "AI", unit: "μg/day", age_start: 4, age_end: 10, value: 25, gender: "Both" },
            { nutrient: "Biotin", source: "EFSA", type: "AI", unit: "μg/day", age_start: 11, age_end: 17, value: 35, gender: "Both" },
            { nutrient: "Biotin", source: "FNB", type: "DRI", unit: "μg/day", age_start: 1, age_end: 3, value: 8, gender: "Both" },
            { nutrient: "Biotin", source: "FNB", type: "DRI", unit: "μg/day", age_start: 4, age_end: 8, value: 12, gender: "Both" },
            { nutrient: "Biotin", source: "FNB", type: "DRI", unit: "μg/day", age_start: 9, age_end: 13, value: 20, gender: "Both" },
            { nutrient: "Biotin", source: "FNB", type: "DRI", unit: "μg/day", age_start: 14, age_end: 18, value: 25, gender: "Both" },
            { nutrient: "Biotin", source: "TFC", type: "DRV", unit: "μg/day", age_start: 4, age_end: 18, value: 50, gender: "Both" },
            { nutrient: "Biotin", source: "TFC", type: "DML", unit: "μg/day", age_start: 4, age_end: 10, value: 1250, gender: "Both" },
            { nutrient: "Biotin", source: "TFC", type: "DML", unit: "μg/day", age_start: 11, age_end: 18, value: 5000, gender: "Both" },
            // Calcium
            { nutrient: "Calcium", source: "EFSA", type: "AI", unit: "mg/day", age_start: 0.58, age_end: 0.92, value: 280, gender: "Both" },
            { nutrient: "Calcium", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 1, age_end: 3, value: 450, gender: "Both" },
            { nutrient: "Calcium", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 4, age_end: 10, value: 800, gender: "Both" },
            { nutrient: "Calcium", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 11, age_end: 17, value: 1150, gender: "Both" },
            { nutrient: "Calcium", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 500, gender: "Both" },
            { nutrient: "Calcium", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 800, gender: "Both" },
            { nutrient: "Calcium", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 1300, gender: "Both" },
            { nutrient: "Calcium", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 1300, gender: "Both" },
            { nutrient: "Calcium", source: "FNB", type: "UL", unit: "mg/day", age_start: 1, age_end: 8, value: 2500, gender: "Both" },
            { nutrient: "Calcium", source: "FNB", type: "UL", unit: "mg/day", age_start: 9, age_end: 18, value: 2500, gender: "Both" },
            { nutrient: "Calcium", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 800, gender: "Both" },
            { nutrient: "Calcium", source: "TFC", type: "DML", unit: "mg/day", age_start: 4, age_end: 10, value: 750, gender: "Both" },
            { nutrient: "Calcium", source: "TFC", type: "DML", unit: "mg/day", age_start: 11, age_end: 18, value: 1500, gender: "Both" },
            // Chloride
            { nutrient: "Chloride", source: "EFSA", type: "Safe and adequate intake", unit: "g/day", age_start: 1, age_end: 3, value: 1.7, gender: "Both" },
            { nutrient: "Chloride", source: "EFSA", type: "Safe and adequate intake", unit: "g/day", age_start: 4, age_end: 6, value: 2.0, gender: "Both" },
            { nutrient: "Chloride", source: "EFSA", type: "Safe and adequate intake", unit: "g/day", age_start: 7, age_end: 10, value: 2.5, gender: "Both" },
            { nutrient: "Chloride", source: "EFSA", type: "Safe and adequate intake", unit: "g/day", age_start: 11, age_end: 17, value: 3.1, gender: "Both" },
            { nutrient: "Chloride", source: "FNB", type: "DRI", unit: "g/day", age_start: 1, age_end: 3, value: 1.5, gender: "Both" },
            { nutrient: "Chloride", source: "FNB", type: "DRI", unit: "g/day", age_start: 4, age_end: 8, value: 1.9, gender: "Both" },
            { nutrient: "Chloride", source: "FNB", type: "DRI", unit: "g/day", age_start: 9, age_end: 13, value: 2.3, gender: "Both" },
            { nutrient: "Chloride", source: "FNB", type: "DRI", unit: "g/day", age_start: 14, age_end: 18, value: 2.3, gender: "Both" },
            { nutrient: "Chloride", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 800, gender: "Both" },
            // Choline
            { nutrient: "Choline", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 200, gender: "Both" },
            { nutrient: "Choline", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 250, gender: "Both" },
            { nutrient: "Choline", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 375, gender: "Both" },
            { nutrient: "Choline", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 550, gender: "Male" },
            { nutrient: "Choline", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 400, gender: "Female" },
            { nutrient: "Choline", source: "FNB", type: "UL", unit: "g/day", age_start: 1, age_end: 8, value: 1.0, gender: "Both" },
            { nutrient: "Choline", source: "FNB", type: "UL", unit: "g/day", age_start: 9, age_end: 13, value: 2.0, gender: "Both" },
            { nutrient: "Choline", source: "FNB", type: "UL", unit: "g/day", age_start: 14, age_end: 18, value: 3.0, gender: "Both" },
            // Copper
            { nutrient: "Copper", source: "FNB", type: "DRI", unit: "μg/day", age_start: 1, age_end: 3, value: 340, gender: "Both" },
            { nutrient: "Copper", source: "FNB", type: "DRI", unit: "μg/day", age_start: 4, age_end: 8, value: 440, gender: "Both" },
            { nutrient: "Copper", source: "FNB", type: "DRI", unit: "μg/day", age_start: 9, age_end: 13, value: 700, gender: "Both" },
            { nutrient: "Copper", source: "FNB", type: "DRI", unit: "μg/day", age_start: 14, age_end: 18, value: 890, gender: "Both" },
            { nutrient: "Copper", source: "FNB", type: "UL", unit: "μg/day", age_start: 1, age_end: 3, value: 1000, gender: "Both" },
            { nutrient: "Copper", source: "FNB", type: "UL", unit: "μg/day", age_start: 4, age_end: 8, value: 3000, gender: "Both" },
            { nutrient: "Copper", source: "FNB", type: "UL", unit: "μg/day", age_start: 9, age_end: 13, value: 5000, gender: "Both" },
            { nutrient: "Copper", source: "FNB", type: "UL", unit: "μg/day", age_start: 14, age_end: 18, value: 8000, gender: "Both" },
            { nutrient: "Copper", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 1, gender: "Both" },
            { nutrient: "Copper", source: "TFC", type: "DML", unit: "mg/day", age_start: 4, age_end: 10, value: 1, gender: "Both" },
            { nutrient: "Copper", source: "TFC", type: "DML", unit: "mg/day", age_start: 11, age_end: 18, value: 2, gender: "Both" },
            // Fluoride
            { nutrient: "Fluoride", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 0.7, gender: "Both" },
            { nutrient: "Fluoride", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 1, gender: "Both" },
            { nutrient: "Fluoride", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 2, gender: "Both" },
            { nutrient: "Fluoride", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 3, gender: "Both" },
            { nutrient: "Fluoride", source: "FNB", type: "UL", unit: "mg/day", age_start: 1, age_end: 3, value: 1.3, gender: "Both" },
            { nutrient: "Fluoride", source: "FNB", type: "UL", unit: "mg/day", age_start: 4, age_end: 8, value: 2.2, gender: "Both" },
            { nutrient: "Fluoride", source: "FNB", type: "UL", unit: "mg/day", age_start: 9, age_end: 18, value: 10, gender: "Both" },
            { nutrient: "Fluoride", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 3.5, gender: "Both" },
            { nutrient: "Fluoride", source: "TFC", type: "DML", unit: "mg/day", age_start: 4, age_end: 10, value: 1.75, gender: "Both" },
            { nutrient: "Fluoride", source: "TFC", type: "DML", unit: "mg/day", age_start: 11, age_end: 18, value: 3.5, gender: "Both" },
            // Folate
            { nutrient: "Folate", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 1, age_end: 3, value: 100, gender: "Both" },
            { nutrient: "Folate", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 4, age_end: 6, value: 150, gender: "Both" },
            { nutrient: "Folate", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 7, age_end: 10, value: 230, gender: "Both" },
            { nutrient: "Folate", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 11, age_end: 14, value: 330, gender: "Both" },
            { nutrient: "Folate", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 15, age_end: 17, value: 330, gender: "Both" },
            { nutrient: "Folate", source: "EFSA", type: "UL", unit: "μg/day", age_start: 1, age_end: 3, value: 200, gender: "Both" },
            { nutrient: "Folate", source: "EFSA", type: "UL", unit: "μg/day", age_start: 4, age_end: 6, value: 300, gender: "Both" },
            { nutrient: "Folate", source: "EFSA", type: "UL", unit: "μg/day", age_start: 7, age_end: 10, value: 400, gender: "Both" },
            { nutrient: "Folate", source: "EFSA", type: "UL", unit: "μg/day", age_start: 11, age_end: 14, value: 600, gender: "Both" },
            { nutrient: "Folate", source: "EFSA", type: "UL", unit: "μg/day", age_start: 15, age_end: 17, value: 700, gender: "Both" },
            { nutrient: "Folate", source: "FNB", type: "DRI", unit: "μg/day", age_start: 1, age_end: 3, value: 150, gender: "Both" },
            { nutrient: "Folate", source: "FNB", type: "DRI", unit: "μg/day", age_start: 4, age_end: 8, value: 200, gender: "Both" },
            { nutrient: "Folate", source: "FNB", type: "DRI", unit: "μg/day", age_start: 9, age_end: 13, value: 300, gender: "Both" },
            { nutrient: "Folate", source: "FNB", type: "DRI", unit: "μg/day", age_start: 14, age_end: 18, value: 400, gender: "Both" },
            { nutrient: "Folate", source: "FNB", type: "UL", unit: "μg/day", age_start: 1, age_end: 3, value: 300, gender: "Both" },
            { nutrient: "Folate", source: "FNB", type: "UL", unit: "μg/day", age_start: 4, age_end: 8, value: 400, gender: "Both" },
            { nutrient: "Folate", source: "FNB", type: "UL", unit: "μg/day", age_start: 9, age_end: 13, value: 600, gender: "Both" },
            { nutrient: "Folate", source: "FNB", type: "UL", unit: "μg/day", age_start: 14, age_end: 18, value: 800, gender: "Both" },
            { nutrient: "Folate", source: "TFC", type: "DRV", unit: "μg/day", age_start: 4, age_end: 18, value: 200, gender: "Both" },
            { nutrient: "Folate", source: "TFC", type: "DML", unit: "μg/day", age_start: 4, age_end: 10, value: 300, gender: "Both" },
            { nutrient: "Folate", source: "TFC", type: "DML", unit: "μg/day", age_start: 11, age_end: 18, value: 600, gender: "Both" },
            // Iodine
            { nutrient: "Iodine", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 1, age_end: 3, value: 70, gender: "Both" },
            { nutrient: "Iodine", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 4, age_end: 6, value: 90, gender: "Both" },
            { nutrient: "Iodine", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 7, age_end: 10, value: 120, gender: "Both" },
            { nutrient: "Iodine", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 11, age_end: 14, value: 130, gender: "Both" },
            { nutrient: "Iodine", source: "EFSA", type: "PRI", unit: "μg/day", age_start: 15, age_end: 17, value: 150, gender: "Both" },
            { nutrient: "Iodine", source: "EFSA", type: "UL", unit: "μg/day", age_start: 1, age_end: 3, value: 200, gender: "Both" },
            { nutrient: "Iodine", source: "EFSA", type: "UL", unit: "μg/day", age_start: 4, age_end: 6, value: 200, gender: "Both" },
            { nutrient: "Iodine", source: "EFSA", type: "UL", unit: "μg/day", age_start: 7, age_end: 10, value: 250, gender: "Both" },
            { nutrient: "Iodine", source: "EFSA", type: "UL", unit: "μg/day", age_start: 11, age_end: 14, value: 450, gender: "Both" },
            { nutrient: "Iodine", source: "EFSA", type: "UL", unit: "μg/day", age_start: 15, age_end: 17, value: 500, gender: "Both" },
            { nutrient: "Iodine", source: "FNB", type: "DRI", unit: "μg/day", age_start: 1, age_end: 3, value: 90, gender: "Both" },
            { nutrient: "Iodine", source: "FNB", type: "DRI", unit: "μg/day", age_start: 4, age_end: 8, value: 90, gender: "Both" },
            { nutrient: "Iodine", source: "FNB", type: "DRI", unit: "μg/day", age_start: 9, age_end: 13, value: 120, gender: "Both" },
            { nutrient: "Iodine", source: "FNB", type: "DRI", unit: "μg/day", age_start: 14, age_end: 18, value: 150, gender: "Both" },
            { nutrient: "Iodine", source: "FNB", type: "UL", unit: "μg/day", age_start: 1, age_end: 3, value: 200, gender: "Both" },
            { nutrient: "Iodine", source: "FNB", type: "UL", unit: "μg/day", age_start: 4, age_end: 8, value: 300, gender: "Both" },
            { nutrient: "Iodine", source: "FNB", type: "UL", unit: "μg/day", age_start: 9, age_end: 13, value: 600, gender: "Both" },
            { nutrient: "Iodine", source: "FNB", type: "UL", unit: "μg/day", age_start: 14, age_end: 18, value: 900, gender: "Both" },
            { nutrient: "Iodine", source: "TFC", type: "DRV", unit: "μg/day", age_start: 4, age_end: 18, value: 150, gender: "Both" },
            { nutrient: "Iodine", source: "TFC", type: "DML", unit: "μg/day", age_start: 4, age_end: 10, value: 75, gender: "Both" },
            { nutrient: "Iodine", source: "TFC", type: "DML", unit: "μg/day", age_start: 11, age_end: 18, value: 150, gender: "Both" },
            // Iron
            { nutrient: "Iron", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 1, age_end: 3, value: 6, gender: "Both" },
            { nutrient: "Iron", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 4, age_end: 6, value: 7, gender: "Both" },
            { nutrient: "Iron", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 7, age_end: 10, value: 8, gender: "Both" },
            { nutrient: "Iron", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 11, age_end: 17, value: 11, gender: "Male" },
            { nutrient: "Iron", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 11, age_end: 17, value: 13, gender: "Female" },
            { nutrient: "Iron", source: "EFSA", type: "UL", unit: "mg/day", age_start: 1, age_end: 3, value: 20, gender: "Both" },
            { nutrient: "Iron", source: "EFSA", type: "UL", unit: "mg/day", age_start: 4, age_end: 6, value: 25, gender: "Both" },
            { nutrient: "Iron", source: "EFSA", type: "UL", unit: "mg/day", age_start: 7, age_end: 10, value: 30, gender: "Both" },
            { nutrient: "Iron", source: "EFSA", type: "UL", unit: "mg/day", age_start: 11, age_end: 17, value: 40, gender: "Both" },
            { nutrient: "Iron", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 7, gender: "Both" },
            { nutrient: "Iron", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 10, gender: "Both" },
            { nutrient: "Iron", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 8, gender: "Both" },
            { nutrient: "Iron", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 11, gender: "Male" },
            { nutrient: "Iron", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 15, gender: "Female" },
            { nutrient: "Iron", source: "FNB", type: "UL", unit: "mg/day", age_start: 1, age_end: 13, value: 40, gender: "Both" },
            { nutrient: "Iron", source: "FNB", type: "UL", unit: "mg/day", age_start: 14, age_end: 18, value: 45, gender: "Both" },
            { nutrient: "Iron", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 14, gender: "Both" },
            { nutrient: "Iron", source: "TFC", type: "DML", unit: "mg/day", age_start: 4, age_end: 10, value: 8.5, gender: "Both" },
            { nutrient: "Iron", source: "TFC", type: "DML", unit: "mg/day", age_start: 11, age_end: 18, value: 17, gender: "Both" },
            // Magnesium
            { nutrient: "Magnesium", source: "EFSA", type: "AI", unit: "mg/day", age_start: 1, age_end: 2, value: 80, gender: "Both" },
            { nutrient: "Magnesium", source: "EFSA", type: "AI", unit: "mg/day", age_start: 3, age_end: 3, value: 170, gender: "Both" },
            { nutrient: "Magnesium", source: "EFSA", type: "AI", unit: "mg/day", age_start: 4, age_end: 6, value: 170, gender: "Both" },
            { nutrient: "Magnesium", source: "EFSA", type: "AI", unit: "mg/day", age_start: 7, age_end: 10, value: 230, gender: "Both" },
            { nutrient: "Magnesium", source: "EFSA", type: "AI", unit: "mg/day", age_start: 11, age_end: 17, value: 390, gender: "Male" },
            { nutrient: "Magnesium", source: "EFSA", type: "AI", unit: "mg/day", age_start: 11, age_end: 17, value: 280, gender: "Female" },
            { nutrient: "Magnesium", source: "EFSA", type: "UL", unit: "mg/day", age_start: 1, age_end: 17, value: 250, gender: "Both" },
            { nutrient: "Magnesium", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 80, gender: "Both" },
            { nutrient: "Magnesium", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 130, gender: "Both" },
            { nutrient: "Magnesium", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 240, gender: "Both" },
            { nutrient: "Magnesium", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 410, gender: "Male" },
            { nutrient: "Magnesium", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 360, gender: "Female" },
            { nutrient: "Magnesium", source: "FNB", type: "UL", unit: "mg/day", age_start: 1, age_end: 3, value: 65, gender: "Both" },
            { nutrient: "Magnesium", source: "FNB", type: "UL", unit: "mg/day", age_start: 4, age_end: 8, value: 110, gender: "Both" },
            { nutrient: "Magnesium", source: "FNB", type: "UL", unit: "mg/day", age_start: 9, age_end: 18, value: 350, gender: "Both" },
            { nutrient: "Magnesium", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 375, gender: "Both" },
            { nutrient: "Magnesium", source: "TFC", type: "DML", unit: "mg/day", age_start: 4, age_end: 18, value: 187.5, gender: "Both" },
            // Manganese
            { nutrient: "Manganese", source: "EFSA", type: "Safe and adequate intake", unit: "mg/day", age_start: 1, age_end: 17, value: 2, gender: "Both" },
            { nutrient: "Manganese", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 1.2, gender: "Both" },
            { nutrient: "Manganese", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 1.5, gender: "Both" },
            { nutrient: "Manganese", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 1.9, gender: "Male" },
            { nutrient: "Manganese", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 1.6, gender: "Female" },
            { nutrient: "Manganese", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 2.2, gender: "Male" },
            { nutrient: "Manganese", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 1.6, gender: "Female" },
            { nutrient: "Manganese", source: "FNB", type: "UL", unit: "mg/day", age_start: 1, age_end: 3, value: 2, gender: "Both" },
            { nutrient: "Manganese", source: "FNB", type: "UL", unit: "mg/day", age_start: 4, age_end: 8, value: 3, gender: "Both" },
            { nutrient: "Manganese", source: "FNB", type: "UL", unit: "mg/day", age_start: 9, age_end: 13, value: 6, gender: "Both" },
            { nutrient: "Manganese", source: "FNB", type: "UL", unit: "mg/day", age_start: 14, age_end: 18, value: 9, gender: "Both" },
            { nutrient: "Manganese", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 2, gender: "Both" },
            // Molybdenum
            { nutrient: "Molybdenum", source: "EFSA", type: "Safe and adequate intake", unit: "μg/day", age_start: 1, age_end: 3, value: 20, gender: "Both" },
            { nutrient: "Molybdenum", source: "EFSA", type: "Safe and adequate intake", unit: "μg/day", age_start: 4, age_end: 6, value: 30, gender: "Both" },
            { nutrient: "Molybdenum", source: "EFSA", type: "Safe and adequate intake", unit: "μg/day", age_start: 7, age_end: 10, value: 45, gender: "Both" },
            { nutrient: "Molybdenum", source: "EFSA", type: "Safe and adequate intake", unit: "μg/day", age_start: 11, age_end: 17, value: 65, gender: "Both" },
            { nutrient: "Molybdenum", source: "FNB", type: "DRI", unit: "μg/day", age_start: 1, age_end: 3, value: 17, gender: "Both" },
            { nutrient: "Molybdenum", source: "FNB", type: "DRI", unit: "μg/day", age_start: 4, age_end: 8, value: 22, gender: "Both" },
            { nutrient: "Molybdenum", source: "FNB", type: "DRI", unit: "μg/day", age_start: 9, age_end: 13, value: 34, gender: "Both" },
            { nutrient: "Molybdenum", source: "FNB", type: "DRI", unit: "μg/day", age_start: 14, age_end: 18, value: 43, gender: "Both" },
            { nutrient: "Molybdenum", source: "FNB", type: "UL", unit: "μg/day", age_start: 1, age_end: 3, value: 300, gender: "Both" },
            { nutrient: "Molybdenum", source: "FNB", type: "UL", unit: "μg/day", age_start: 4, age_end: 8, value: 600, gender: "Both" },
            { nutrient: "Molybdenum", source: "FNB", type: "UL", unit: "μg/day", age_start: 9, age_end: 13, value: 1100, gender: "Both" },
            { nutrient: "Molybdenum", source: "FNB", type: "UL", unit: "μg/day", age_start: 14, age_end: 18, value: 1700, gender: "Both" },
            { nutrient: "Molybdenum", source: "TFC", type: "DRV", unit: "μg/day", age_start: 4, age_end: 18, value: 50, gender: "Both" },
            // Niacin
            { nutrient: "Niacin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 1, age_end: 3, value: 5, gender: "Both" },
            { nutrient: "Niacin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 4, age_end: 6, value: 8, gender: "Both" },
            { nutrient: "Niacin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 7, age_end: 10, value: 11, gender: "Both" },
            { nutrient: "Niacin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 11, age_end: 14, value: 15, gender: "Male" },
            { nutrient: "Niacin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 11, age_end: 14, value: 13, gender: "Female" },
            { nutrient: "Niacin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 15, age_end: 17, value: 16, gender: "Male" },
            { nutrient: "Niacin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 15, age_end: 17, value: 13, gender: "Female" },
            { nutrient: "Niacin", source: "EFSA", type: "UL", unit: "mg/day", age_start: 1, age_end: 3, value: 150, gender: "Both" },
            { nutrient: "Niacin", source: "EFSA", type: "UL", unit: "mg/day", age_start: 4, age_end: 6, value: 200, gender: "Both" },
            { nutrient: "Niacin", source: "EFSA", type: "UL", unit: "mg/day", age_start: 7, age_end: 10, value: 300, gender: "Both" },
            { nutrient: "Niacin", source: "EFSA", type: "UL", unit: "mg/day", age_start: 11, age_end: 14, value: 500, gender: "Both" },
            { nutrient: "Niacin", source: "EFSA", type: "UL", unit: "mg/day", age_start: 15, age_end: 17, value: 600, gender: "Both" },
            { nutrient: "Niacin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 6, gender: "Both" },
            { nutrient: "Niacin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 8, gender: "Both" },
            { nutrient: "Niacin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 12, gender: "Both" },
            { nutrient: "Niacin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 16, gender: "Male" },
            { nutrient: "Niacin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 14, gender: "Female" },
            { nutrient: "Niacin", source: "FNB", type: "UL", unit: "mg/day", age_start: 1, age_end: 3, value: 10, gender: "Both" },
            { nutrient: "Niacin", source: "FNB", type: "UL", unit: "mg/day", age_start: 4, age_end: 8, value: 15, gender: "Both" },
            { nutrient: "Niacin", source: "FNB", type: "UL", unit: "mg/day", age_start: 9, age_end: 13, value: 20, gender: "Both" },
            { nutrient: "Niacin", source: "FNB", type: "UL", unit: "mg/day", age_start: 14, age_end: 18, value: 30, gender: "Both" },
            { nutrient: "Niacin", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 16, gender: "Both" },
            { nutrient: "Niacin", source: "TFC", type: "DML", unit: "mg/day", age_start: 4, age_end: 10, value: 450, gender: "Both" },
            { nutrient: "Niacin", source: "TFC", type: "DML", unit: "mg/day", age_start: 11, age_end: 18, value: 900, gender: "Both" },
            // Pantothenic Acid
            { nutrient: "Pantothenic Acid", source: "EFSA", type: "AI", unit: "mg/day", age_start: 1, age_end: 3, value: 3, gender: "Both" },
            { nutrient: "Pantothenic Acid", source: "EFSA", type: "AI", unit: "mg/day", age_start: 4, age_end: 10, value: 4, gender: "Both" },
            { nutrient: "Pantothenic Acid", source: "EFSA", type: "AI", unit: "mg/day", age_start: 11, age_end: 17, value: 5, gender: "Both" },
            { nutrient: "Pantothenic Acid", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 2, gender: "Both" },
            { nutrient: "Pantothenic Acid", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 3, gender: "Both" },
            { nutrient: "Pantothenic Acid", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 4, gender: "Both" },
            { nutrient: "Pantothenic Acid", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 5, gender: "Both" },
            { nutrient: "Pantothenic Acid", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 6, gender: "Both" },
            // Phosphorus
            { nutrient: "Phosphorus", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 1, age_end: 3, value: 250, gender: "Both" },
            { nutrient: "Phosphorus", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 4, age_end: 10, value: 550, gender: "Both" },
            { nutrient: "Phosphorus", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 11, age_end: 17, value: 700, gender: "Both" },
            { nutrient: "Phosphorus", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 460, gender: "Both" },
            { nutrient: "Phosphorus", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 500, gender: "Both" },
            { nutrient: "Phosphorus", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 18, value: 1250, gender: "Both" },
            { nutrient: "Phosphorus", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 700, gender: "Both" },
            // Potassium
            { nutrient: "Potassium", source: "EFSA", type: "AI", unit: "g/day", age_start: 1, age_end: 3, value: 1.1, gender: "Both" },
            { nutrient: "Potassium", source: "EFSA", type: "AI", unit: "g/day", age_start: 4, age_end: 6, value: 2.0, gender: "Both" },
            { nutrient: "Potassium", source: "EFSA", type: "AI", unit: "g/day", age_start: 7, age_end: 9, value: 2.9, gender: "Both" },
            { nutrient: "Potassium", source: "EFSA", type: "AI", unit: "g/day", age_start: 10, age_end: 14, value: 3.7, gender: "Both" },
            { nutrient: "Potassium", source: "EFSA", type: "AI", unit: "g/day", age_start: 15, age_end: 17, value: 4.0, gender: "Both" },
            { nutrient: "Potassium", source: "FNB", type: "DRI", unit: "g/day", age_start: 1, age_end: 3, value: 3.0, gender: "Both" },
            { nutrient: "Potassium", source: "FNB", type: "DRI", unit: "g/day", age_start: 4, age_end: 8, value: 3.8, gender: "Both" },
            { nutrient: "Potassium", source: "FNB", type: "DRI", unit: "g/day", age_start: 9, age_end: 13, value: 4.5, gender: "Both" },
            { nutrient: "Potassium", source: "FNB", type: "DRI", unit: "g/day", age_start: 14, age_end: 18, value: 4.7, gender: "Both" },
            { nutrient: "Potassium", source: "TFC", type: "DRV", unit: "g/day", age_start: 4, age_end: 18, value: 2, gender: "Both" },
            // Riboflavin
            { nutrient: "Riboflavin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 1, age_end: 3, value: 0.6, gender: "Both" },
            { nutrient: "Riboflavin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 4, age_end: 6, value: 0.8, gender: "Both" },
            { nutrient: "Riboflavin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 7, age_end: 10, value: 1.1, gender: "Both" },
            { nutrient: "Riboflavin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 11, age_end: 14, value: 1.4, gender: "Both" },
            { nutrient: "Riboflavin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 15, age_end: 17, value: 1.6, gender: "Both" },
            { nutrient: "Riboflavin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 0.5, gender: "Both" },
            { nutrient: "Riboflavin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 0.6, gender: "Both" },
            { nutrient: "Riboflavin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 0.9, gender: "Both" },
            { nutrient: "Riboflavin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 1.3, gender: "Male" },
            { nutrient: "Riboflavin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 1.0, gender: "Female" },
            { nutrient: "Riboflavin", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 1.4, gender: "Both" },
            // Selenium
            { nutrient: "Selenium", source: "EFSA", type: "AI", unit: "μg/day", age_start: 1, age_end: 3, value: 20, gender: "Both" },
            { nutrient: "Selenium", source: "EFSA", type: "AI", unit: "μg/day", age_start: 4, age_end: 6, value: 30, gender: "Both" },
            { nutrient: "Selenium", source: "EFSA", type: "AI", unit: "μg/day", age_start: 7, age_end: 10, value: 45, gender: "Both" },
            { nutrient: "Selenium", source: "EFSA", type: "AI", unit: "μg/day", age_start: 11, age_end: 14, value: 55, gender: "Both" },
            { nutrient: "Selenium", source: "EFSA", type: "AI", unit: "μg/day", age_start: 15, age_end: 17, value: 70, gender: "Both" },
            { nutrient: "Selenium", source: "EFSA", type: "UL", unit: "μg/day", age_start: 1, age_end: 3, value: 60, gender: "Both" },
            { nutrient: "Selenium", source: "EFSA", type: "UL", unit: "μg/day", age_start: 4, age_end: 6, value: 85, gender: "Both" },
            { nutrient: "Selenium", source: "EFSA", type: "UL", unit: "μg/day", age_start: 7, age_end: 10, value: 130, gender: "Both" },
            { nutrient: "Selenium", source: "EFSA", type: "UL", unit: "μg/day", age_start: 11, age_end: 14, value: 200, gender: "Both" },
            { nutrient: "Selenium", source: "EFSA", type: "UL", unit: "μg/day", age_start: 15, age_end: 17, value: 250, gender: "Both" },
            { nutrient: "Selenium", source: "FNB", type: "DRI", unit: "μg/day", age_start: 1, age_end: 3, value: 20, gender: "Both" },
            { nutrient: "Selenium", source: "FNB", type: "DRI", unit: "μg/day", age_start: 4, age_end: 8, value: 30, gender: "Both" },
            { nutrient: "Selenium", source: "FNB", type: "DRI", unit: "μg/day", age_start: 9, age_end: 13, value: 40, gender: "Both" },
            { nutrient: "Selenium", source: "FNB", type: "DRI", unit: "μg/day", age_start: 14, age_end: 18, value: 55, gender: "Both" },
            { nutrient: "Selenium", source: "FNB", type: "UL", unit: "μg/day", age_start: 1, age_end: 3, value: 90, gender: "Both" },
            { nutrient: "Selenium", source: "FNB", type: "UL", unit: "μg/day", age_start: 4, age_end: 8, value: 150, gender: "Both" },
            { nutrient: "Selenium", source: "FNB", type: "UL", unit: "μg/day", age_start: 9, age_end: 13, value: 280, gender: "Both" },
            { nutrient: "Selenium", source: "FNB", type: "UL", unit: "μg/day", age_start: 14, age_end: 18, value: 400, gender: "Both" },
            { nutrient: "Selenium", source: "TFC", type: "DRV", unit: "μg/day", age_start: 4, age_end: 18, value: 55, gender: "Both" },
            // Sodium
            { nutrient: "Sodium", source: "EFSA", type: "Safe and adequate intake", unit: "g/day", age_start: 1, age_end: 3, value: 1.1, gender: "Both" },
            { nutrient: "Sodium", source: "EFSA", type: "Safe and adequate intake", unit: "g/day", age_start: 4, age_end: 6, value: 1.2, gender: "Both" },
            { nutrient: "Sodium", source: "EFSA", type: "Safe and adequate intake", unit: "g/day", age_start: 7, age_end: 10, value: 1.3, gender: "Both" },
            { nutrient: "Sodium", source: "EFSA", type: "Safe and adequate intake", unit: "g/day", age_start: 11, age_end: 17, value: 1.5, gender: "Both" },
            { nutrient: "Sodium", source: "FNB", type: "DRI", unit: "g/day", age_start: 1, age_end: 3, value: 1.0, gender: "Both" },
            { nutrient: "Sodium", source: "FNB", type: "DRI", unit: "g/day", age_start: 4, age_end: 8, value: 1.2, gender: "Both" },
            { nutrient: "Sodium", source: "FNB", type: "DRI", unit: "g/day", age_start: 9, age_end: 18, value: 1.5, gender: "Both" },
            { nutrient: "Sodium", source: "TFC", type: "DRV", unit: "g/day", age_start: 4, age_end: 18, value: 6, gender: "Both" },
            // Thiamin
            { nutrient: "Thiamin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 1, age_end: 3, value: 0.4, gender: "Both" },
            { nutrient: "Thiamin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 4, age_end: 6, value: 0.6, gender: "Both" },
            { nutrient: "Thiamin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 7, age_end: 9, value: 0.8, gender: "Both" },
            { nutrient: "Thiamin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 10, age_end: 14, value: 1.0, gender: "Male" },
            { nutrient: "Thiamin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 10, age_end: 14, value: 0.9, gender: "Female" },
            { nutrient: "Thiamin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 15, age_end: 17, value: 1.2, gender: "Male" },
            { nutrient: "Thiamin", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 15, age_end: 17, value: 1.1, gender: "Female" },
            { nutrient: "Thiamin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 0.5, gender: "Both" },
            { nutrient: "Thiamin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 0.6, gender: "Both" },
            { nutrient: "Thiamin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 0.9, gender: "Both" },
            { nutrient: "Thiamin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 1.2, gender: "Male" },
            { nutrient: "Thiamin", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 1.0, gender: "Female" },
            { nutrient: "Thiamin", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 1.1, gender: "Both" },
            // Vitamin B12
            { nutrient: "Vitamin B12", source: "EFSA", type: "AI", unit: "μg/day", age_start: 1, age_end: 3, value: 1.5, gender: "Both" },
            { nutrient: "Vitamin B12", source: "EFSA", type: "AI", unit: "μg/day", age_start: 4, age_end: 6, value: 2.5, gender: "Both" },
            { nutrient: "Vitamin B12", source: "EFSA", type: "AI", unit: "μg/day", age_start: 7, age_end: 10, value: 2.5, gender: "Both" },
            { nutrient: "Vitamin B12", source: "EFSA", type: "AI", unit: "μg/day", age_start: 11, age_end: 14, value: 3.5, gender: "Both" },
            { nutrient: "Vitamin B12", source: "EFSA", type: "AI", unit: "μg/day", age_start: 15, age_end: 17, value: 4.0, gender: "Both" },
            { nutrient: "Vitamin B12", source: "FNB", type: "DRI", unit: "μg/day", age_start: 1, age_end: 3, value: 0.9, gender: "Both" },
            { nutrient: "Vitamin B12", source: "FNB", type: "DRI", unit: "μg/day", age_start: 4, age_end: 8, value: 1.2, gender: "Both" },
            { nutrient: "Vitamin B12", source: "FNB", type: "DRI", unit: "μg/day", age_start: 9, age_end: 13, value: 1.8, gender: "Both" },
            { nutrient: "Vitamin B12", source: "FNB", type: "DRI", unit: "μg/day", age_start: 14, age_end: 18, value: 2.4, gender: "Both" },
            { nutrient: "Vitamin B12", source: "TFC", type: "DRV", unit: "μg/day", age_start: 4, age_end: 18, value: 2.5, gender: "Both" },
            // Vitamin B6
            { nutrient: "Vitamin B6", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 1, age_end: 3, value: 0.6, gender: "Both" },
            { nutrient: "Vitamin B6", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 4, age_end: 6, value: 0.9, gender: "Both" },
            { nutrient: "Vitamin B6", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 7, age_end: 10, value: 1.1, gender: "Both" },
            { nutrient: "Vitamin B6", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 11, age_end: 14, value: 1.4, gender: "Male" },
            { nutrient: "Vitamin B6", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 11, age_end: 14, value: 1.3, gender: "Female" },
            { nutrient: "Vitamin B6", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 15, age_end: 17, value: 1.7, gender: "Male" },
            { nutrient: "Vitamin B6", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 15, age_end: 17, value: 1.4, gender: "Female" },
            { nutrient: "Vitamin B6", source: "EFSA", type: "UL", unit: "mg/day", age_start: 1, age_end: 3, value: 7, gender: "Both" },
            { nutrient: "Vitamin B6", source: "EFSA", type: "UL", unit: "mg/day", age_start: 4, age_end: 6, value: 10, gender: "Both" },
            { nutrient: "Vitamin B6", source: "EFSA", type: "UL", unit: "mg/day", age_start: 7, age_end: 10, value: 15, gender: "Both" },
            { nutrient: "Vitamin B6", source: "EFSA", type: "UL", unit: "mg/day", age_start: 11, age_end: 14, value: 20, gender: "Both" },
            { nutrient: "Vitamin B6", source: "EFSA", type: "UL", unit: "mg/day", age_start: 15, age_end: 17, value: 25, gender: "Both" },
            { nutrient: "Vitamin B6", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 0.5, gender: "Both" },
            { nutrient: "Vitamin B6", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 0.6, gender: "Both" },
            { nutrient: "Vitamin B6", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 1.0, gender: "Both" },
            { nutrient: "Vitamin B6", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 1.3, gender: "Male" },
            { nutrient: "Vitamin B6", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 1.2, gender: "Female" },
            { nutrient: "Vitamin B6", source: "FNB", type: "UL", unit: "mg/day", age_start: 1, age_end: 3, value: 30, gender: "Both" },
            { nutrient: "Vitamin B6", source: "FNB", type: "UL", unit: "mg/day", age_start: 4, age_end: 8, value: 40, gender: "Both" },
            { nutrient: "Vitamin B6", source: "FNB", type: "UL", unit: "mg/day", age_start: 9, age_end: 13, value: 60, gender: "Both" },
            { nutrient: "Vitamin B6", source: "FNB", type: "UL", unit: "mg/day", age_start: 14, age_end: 18, value: 80, gender: "Both" },
            { nutrient: "Vitamin B6", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 1.4, gender: "Both" },
            // Vitamin C
            { nutrient: "Vitamin C", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 1, age_end: 3, value: 20, gender: "Both" },
            { nutrient: "Vitamin C", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 4, age_end: 6, value: 30, gender: "Both" },
            { nutrient: "Vitamin C", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 7, age_end: 10, value: 50, gender: "Both" },
            { nutrient: "Vitamin C", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 11, age_end: 14, value: 80, gender: "Both" },
            { nutrient: "Vitamin C", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 15, age_end: 17, value: 110, gender: "Male" },
            { nutrient: "Vitamin C", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 15, age_end: 17, value: 95, gender: "Female" },
            { nutrient: "Vitamin C", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 15, gender: "Both" },
            { nutrient: "Vitamin C", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 25, gender: "Both" },
            { nutrient: "Vitamin C", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 45, gender: "Both" },
            { nutrient: "Vitamin C", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 75, gender: "Male" },
            { nutrient: "Vitamin C", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 65, gender: "Female" },
            { nutrient: "Vitamin C", source: "FNB", type: "UL", unit: "mg/day", age_start: 1, age_end: 3, value: 400, gender: "Both" },
            { nutrient: "Vitamin C", source: "FNB", type: "UL", unit: "mg/day", age_start: 4, age_end: 8, value: 650, gender: "Both" },
            { nutrient: "Vitamin C", source: "FNB", type: "UL", unit: "mg/day", age_start: 9, age_end: 13, value: 1200, gender: "Both" },
            { nutrient: "Vitamin C", source: "FNB", type: "UL", unit: "mg/day", age_start: 14, age_end: 18, value: 1800, gender: "Both" },
            { nutrient: "Vitamin C", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 80, gender: "Both" },
            // Vitamin D
            { nutrient: "Vitamin D", source: "EFSA", type: "AI", unit: "μg/day", age_start: 1, age_end: 17, value: 15, gender: "Both" },
            { nutrient: "Vitamin D", source: "EFSA", type: "UL", unit: "μg/day", age_start: 1, age_end: 10, value: 50, gender: "Both" },
            { nutrient: "Vitamin D", source: "EFSA", type: "UL", unit: "μg/day", age_start: 11, age_end: 17, value: 100, gender: "Both" },
            { nutrient: "Vitamin D", source: "FNB", type: "DRI", unit: "μg/day", age_start: 1, age_end: 18, value: 15, gender: "Both" },
            { nutrient: "Vitamin D", source: "FNB", type: "UL", unit: "μg/day", age_start: 1, age_end: 3, value: 50, gender: "Both" },
            { nutrient: "Vitamin D", source: "FNB", type: "UL", unit: "μg/day", age_start: 4, age_end: 8, value: 50, gender: "Both" },
            { nutrient: "Vitamin D", source: "FNB", type: "UL", unit: "μg/day", age_start: 9, age_end: 18, value: 50, gender: "Both" },
            { nutrient: "Vitamin D", source: "TFC", type: "DRV", unit: "μg/day", age_start: 4, age_end: 18, value: 5, gender: "Both" },
            { nutrient: "Vitamin D", source: "TFC", type: "DML", unit: "μg/day", age_start: 4, age_end: 18, value: 25, gender: "Both" },
            // Vitamin E
            { nutrient: "Vitamin E", source: "EFSA", type: "AI", unit: "mg/day", age_start: 1, age_end: 2, value: 6, gender: "Both" },
            { nutrient: "Vitamin E", source: "EFSA", type: "AI", unit: "mg/day", age_start: 3, age_end: 3, value: 9, gender: "Both" },
            { nutrient: "Vitamin E", source: "EFSA", type: "AI", unit: "mg/day", age_start: 4, age_end: 9, value: 9, gender: "Both" },
            { nutrient: "Vitamin E", source: "EFSA", type: "AI", unit: "mg/day", age_start: 10, age_end: 10, value: 13, gender: "Male" },
            { nutrient: "Vitamin E", source: "EFSA", type: "AI", unit: "mg/day", age_start: 10, age_end: 10, value: 11, gender: "Female" },
            { nutrient: "Vitamin E", source: "EFSA", type: "AI", unit: "mg/day", age_start: 11, age_end: 14, value: 13, gender: "Male" },
            { nutrient: "Vitamin E", source: "EFSA", type: "AI", unit: "mg/day", age_start: 11, age_end: 14, value: 11, gender: "Female" },
            { nutrient: "Vitamin E", source: "EFSA", type: "AI", unit: "mg/day", age_start: 15, age_end: 17, value: 13, gender: "Male" },
            { nutrient: "Vitamin E", source: "EFSA", type: "AI", unit: "mg/day", age_start: 15, age_end: 17, value: 12, gender: "Female" },
            { nutrient: "Vitamin E", source: "EFSA", type: "UL", unit: "mg/day", age_start: 1, age_end: 3, value: 100, gender: "Both" },
            { nutrient: "Vitamin E", source: "EFSA", type: "UL", unit: "mg/day", age_start: 4, age_end: 6, value: 120, gender: "Both" },
            { nutrient: "Vitamin E", source: "EFSA", type: "UL", unit: "mg/day", age_start: 7, age_end: 10, value: 160, gender: "Both" },
            { nutrient: "Vitamin E", source: "EFSA", type: "UL", unit: "mg/day", age_start: 11, age_end: 14, value: 220, gender: "Both" },
            { nutrient: "Vitamin E", source: "EFSA", type: "UL", unit: "mg/day", age_start: 15, age_end: 17, value: 260, gender: "Both" },
            { nutrient: "Vitamin E", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 6, gender: "Both" },
            { nutrient: "Vitamin E", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 7, gender: "Both" },
            { nutrient: "Vitamin E", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 11, gender: "Both" },
            { nutrient: "Vitamin E", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 15, gender: "Both" },
            { nutrient: "Vitamin E", source: "FNB", type: "UL", unit: "mg/day", age_start: 1, age_end: 3, value: 200, gender: "Both" },
            { nutrient: "Vitamin E", source: "FNB", type: "UL", unit: "mg/day", age_start: 4, age_end: 8, value: 300, gender: "Both" },
            { nutrient: "Vitamin E", source: "FNB", type: "UL", unit: "mg/day", age_start: 9, age_end: 13, value: 600, gender: "Both" },
            { nutrient: "Vitamin E", source: "FNB", type: "UL", unit: "mg/day", age_start: 14, age_end: 18, value: 800, gender: "Both" },
            { nutrient: "Vitamin E", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 12, gender: "Both" },
            { nutrient: "Vitamin E", source: "TFC", type: "DML", unit: "mg/day", age_start: 4, age_end: 18, value: 270, gender: "Both" },
            // Zinc
            { nutrient: "Zinc", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 1, age_end: 3, value: 5.5, gender: "Both" },
            { nutrient: "Zinc", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 4, age_end: 6, value: 6.9, gender: "Both" },
            { nutrient: "Zinc", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 7, age_end: 10, value: 9.4, gender: "Both" },
            { nutrient: "Zinc", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 11, age_end: 14, value: 12.7, gender: "Male" },
            { nutrient: "Zinc", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 11, age_end: 14, value: 10.2, gender: "Female" },
            { nutrient: "Zinc", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 15, age_end: 17, value: 12.9, gender: "Male" },
            { nutrient: "Zinc", source: "EFSA", type: "PRI", unit: "mg/day", age_start: 15, age_end: 17, value: 9.3, gender: "Female" },
            { nutrient: "Zinc", source: "EFSA", type: "UL", unit: "mg/day", age_start: 1, age_end: 3, value: 10, gender: "Both" },
            { nutrient: "Zinc", source: "EFSA", type: "UL", unit: "mg/day", age_start: 4, age_end: 6, value: 12, gender: "Both" },
            { nutrient: "Zinc", source: "EFSA", type: "UL", unit: "mg/day", age_start: 7, age_end: 10, value: 16, gender: "Both" },
            { nutrient: "Zinc", source: "EFSA", type: "UL", unit: "mg/day", age_start: 11, age_end: 14, value: 22, gender: "Both" },
            { nutrient: "Zinc", source: "EFSA", type: "UL", unit: "mg/day", age_start: 15, age_end: 17, value: 26, gender: "Both" },
            { nutrient: "Zinc", source: "FNB", type: "DRI", unit: "mg/day", age_start: 1, age_end: 3, value: 3, gender: "Both" },
            { nutrient: "Zinc", source: "FNB", type: "DRI", unit: "mg/day", age_start: 4, age_end: 8, value: 5, gender: "Both" },
            { nutrient: "Zinc", source: "FNB", type: "DRI", unit: "mg/day", age_start: 9, age_end: 13, value: 8, gender: "Both" },
            { nutrient: "Zinc", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 11, gender: "Male" },
            { nutrient: "Zinc", source: "FNB", type: "DRI", unit: "mg/day", age_start: 14, age_end: 18, value: 9, gender: "Female" },
            { nutrient: "Zinc", source: "FNB", type: "UL", unit: "mg/day", age_start: 1, age_end: 3, value: 7, gender: "Both" },
            { nutrient: "Zinc", source: "FNB", type: "UL", unit: "mg/day", age_start: 4, age_end: 8, value: 12, gender: "Both" },
            { nutrient: "Zinc", source: "FNB", type: "UL", unit: "mg/day", age_start: 9, age_end: 13, value: 23, gender: "Both" },
            { nutrient: "Zinc", source: "FNB", type: "UL", unit: "mg/day", age_start: 14, age_end: 18, value: 34, gender: "Both" },
            { nutrient: "Zinc", source: "TFC", type: "DRV", unit: "mg/day", age_start: 4, age_end: 18, value: 10, gender: "Both" },
            { nutrient: "Zinc", source: "TFC", type: "DML", unit: "mg/day", age_start: 4, age_end: 18, value: 15, gender: "Both" },
        ];

        // --- GLOBAL VARIABLES ---
        let charts = [];
        const sourceColors = {
            EFSA: 'rgba(54, 162, 235, 1)',
            FNB: 'rgba(255, 99, 132, 1)',
            TFC: 'rgba(75, 192, 192, 1)'
        };
        const sourceBorderDash = {
            EFSA: [],
            FNB: [5, 5],
            TFC: [10, 5, 2, 5]
        };

        // --- UTILITY FUNCTIONS ---
        /**
         * Converts raw data into a format suitable for Chart.js line charts.
         * Creates step-like data points from age ranges.
         * @param {Array<Object>} data - Filtered micronutrient data for a specific source and type.
         * @returns {Array<Object>} - Array of {x, y} points.
         */
        function createSteppedData(data) {
            const points = [];
            data.sort((a,b) => a.age_start - b.age_start).forEach(item => {
                // To create a step line, we add two points for each range
                points.push({ x: item.age_start, y: item.value });
                points.push({ x: item.age_end, y: item.value });
                 // Add a null to create a break if there's a gap to the next age group
                const nextItemIndex = data.indexOf(item) + 1;
                if (nextItemIndex < data.length) {
                    if (data[nextItemIndex].age_start > item.age_end) {
                        points.push({ x: item.age_end, y: null });
                    }
                }
            });
            return points;
        }

        // --- CHARTING FUNCTIONS ---
        /**
         * Destroys all existing chart instances to prevent memory leaks.
         */
        function clearCharts() {
            charts.forEach(chart => chart.destroy());
            charts = [];
            document.getElementById('charts-wrapper').innerHTML = '';
        }

        /**
         * Renders the charts for the selected nutrient.
         * @param {string} nutrientName - The name of the selected nutrient.
         */
        function renderCharts(nutrientName) {
            clearCharts();
            const nutrientData = micronutrientData.filter(d => d.nutrient === nutrientName);
            if (nutrientData.length === 0) return;

            const hasGenderData = nutrientData.some(d => d.gender === 'Male' || d.gender === 'Female');
            
            // Find all unique units for this nutrient
            const units = [...new Set(nutrientData.map(d => d.unit))];

            const gendersToRender = hasGenderData ? ['Male', 'Female'] : ['Both'];

            gendersToRender.forEach(gender => {
                const intakeData = nutrientData.filter(d => ['AI', 'AR', 'PRI', 'RI', 'Safe and adequate intake', 'DRI', 'DRV'].includes(d.type));
                const ulData = nutrientData.filter(d => ['UL', 'DML'].includes(d.type));
                
                const genderTitle = gender === 'Both' ? '' : (gender === 'Male' ? ' (Erkek)' : ' (Kadın)');
                const chartWrapperId = `chart-wrapper-${gender}`;
                
                const wrapper = document.createElement('div');
                wrapper.id = chartWrapperId;
                wrapper.className = 'bg-white p-4 sm:p-6 rounded-xl shadow-lg';
                wrapper.innerHTML = `
                    <h2 class="text-xl md:text-2xl font-bold text-center mb-6 text-gray-800">${nutrientName}${genderTitle}</h2>
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="chart-container">
                            <canvas id="intake-chart-${gender}"></canvas>
                        </div>
                        <div class="chart-container">
                            <canvas id="ul-chart-${gender}"></canvas>
                        </div>
                    </div>
                `;
                document.getElementById('charts-wrapper').appendChild(wrapper);

                createChart(
                    `intake-chart-${gender}`,
                    `Önerilen Alım Değerleri`,
                    intakeData,
                    gender,
                    `Değer (${units.join(', ')})`
                );
                createChart(
                    `ul-chart-${gender}`,
                    `Üst Limit Değerleri`,
                    ulData,
                    gender,
                    `Değer (${units.join(', ')})`
                );
            });
        }

        /**
         * Creates a single Chart.js instance.
         * @param {string} canvasId - The ID of the canvas element.
         * @param {string} title - The title of the chart.
         * @param {Array<Object>} data - The data for this chart.
         * @param {string} gender - The gender to filter data for ('Male', 'Female', 'Both').
         * @param {string} yAxisLabel - The label for the Y-axis.
         */
        function createChart(canvasId, title, data, gender, yAxisLabel) {
            const ctx = document.getElementById(canvasId);
            if (!ctx) return;

            const datasets = [];
            const sources = ['EFSA', 'FNB', 'TFC'];
            
            sources.forEach(source => {
                const sourceData = data.filter(d => d.source === source);
                const types = [...new Set(sourceData.map(d => d.type))];

                types.forEach(type => {
                    let genderFilteredData = sourceData.filter(d => d.type === type && (d.gender === gender || d.gender === 'Both'));
                    
                    if (genderFilteredData.length > 0) {
                        // Handle unit conversions for consistent display, e.g., g to mg
                        const displayData = genderFilteredData.map(item => {
                            let value = item.value;
                            if (item.unit === 'g/day' && yAxisLabel.includes('mg/day')) {
                                value *= 1000;
                            }
                            if (item.unit === 'g/day' && yAxisLabel.includes('μg/day')) {
                                value *= 1000000;
                            }
                             if (item.unit === 'mg/day' && yAxisLabel.includes('μg/day')) {
                                value *= 1000;
                            }
                            return { ...item, value };
                        });

                        datasets.push({
                            label: `${source} - ${type}`,
                            data: createSteppedData(displayData),
                            borderColor: sourceColors[source],
                            backgroundColor: sourceColors[source].replace('1)', '0.2)'),
                            borderWidth: 2.5,
                            pointRadius: 0,
                            tension: 0,
                            stepped: 'before',
                            borderDash: sourceBorderDash[source],
                            spanGaps: true, 
                        });
                    }
                });
            });

            if (datasets.length === 0) {
                const p = document.createElement('p');
                p.className = 'flex items-center justify-center h-full text-gray-500';
                p.textContent = 'Bu kategori için veri bulunamadı.';
                ctx.parentElement.innerHTML = '';
                ctx.parentElement.appendChild(p);
                return;
            }

            const chart = new Chart(ctx, {
                type: 'line',
                data: { datasets },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: { display: true, text: title, font: { size: 16 } },
                        legend: { display: true, position: 'bottom' },
                        tooltip: { mode: 'index', intersect: false }
                    },
                    scales: {
                        x: {
                            type: 'linear',
                            title: { display: true, text: 'Yaş' },
                            min: 0,
                            max: 18,
                            ticks: { stepSize: 2 }
                        },
                        y: {
                            title: { display: true, text: yAxisLabel },
                            beginAtZero: true
                        }
                    }
                }
            });
            charts.push(chart);
        }

        // --- CONTROLS AND INITIALIZATION ---
        /**
         * Sets up the checkbox controls for filtering institutions.
         */
        function setupControls() {
            const controlsDiv = document.getElementById('checkbox-controls');
            controlsDiv.innerHTML = ''; // Clear previous controls
            const sources = ['EFSA', 'FNB', 'TFC'];
            
            sources.forEach(source => {
                const color = sourceColors[source];
                const controlHtml = `
                    <label for="${source}-checkbox" class="flex items-center cursor-pointer">
                        <input type="checkbox" id="${source}-checkbox" class="custom-checkbox appearance-none h-5 w-5 rounded border-2 transition duration-200" style="color: ${color}; border-color: ${color};" checked>
                        <span class="ml-2 text-md font-medium text-gray-700">${source}</span>
                    </label>
                `;
                controlsDiv.innerHTML += controlHtml;
            });

            sources.forEach(source => {
                document.getElementById(`${source}-checkbox`).addEventListener('change', (e) => {
                    const isVisible = e.target.checked;
                    charts.forEach(chart => {
                        chart.data.datasets.forEach(dataset => {
                            if (dataset.label.startsWith(source)) {
                                dataset.hidden = !isVisible;
                            }
                        });
                        chart.update();
                    });
                });
            });
        }

        /**
         * Initializes the application.
         */
        document.addEventListener('DOMContentLoaded', () => {
            const selectElement = document.getElementById('nutrient-select');
            
            const nutrients = [...new Set(micronutrientData.map(d => d.nutrient))].sort();

            nutrients.forEach(nutrient => {
                const option = document.createElement('option');
                option.value = nutrient;
                option.textContent = nutrient;
                selectElement.appendChild(option);
            });

            selectElement.addEventListener('change', (e) => {
                renderCharts(e.target.value);
            });

            if (nutrients.length > 0) {
                setupControls();
                renderCharts(nutrients[0]);
            }
        });

    </script>
</body>
</html>
